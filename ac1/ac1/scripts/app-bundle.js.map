{"version":3,"sources":["app.ts","environment.ts","main.ts","resources/index.ts","components/timeline/timeline-component.ts","components/timeline/timelineTask.ts"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import * as moment from 'moment';\nimport TimelineTask = require(\"./components/timeline/timelineTask\");\n\nexport class App {\n\n    public timelineTasks: Array<TimelineTask.TimelineTask>;\n\n    constructor() {\n        this.createData();\n    }\n\n    public createData() {\n         this.timelineTasks=new Array<TimelineTask.TimelineTask>();\n\n        var tl1 = new TimelineTask.TimelineTask();\n        tl1.start=moment('2017-03-01 00:00:00');\n        tl1.end=moment('2017-03-01 02:30:00');\n        tl1.taskGroup=\"Production\";\n        tl1.taskName=\"Running Printing\";\n\n        this.timelineTasks.push(tl1);\n\n        var tl2 = new TimelineTask.TimelineTask();\n        tl2.start=moment('2017-03-01 02:30:00');\n        tl2.end=moment('2017-03-01 05:15:00');\n        tl2.taskGroup=\"Production\";\n        tl2.taskName=\"Stop 125\";\n\n        this.timelineTasks.push(tl2);\n\n        var tl3 = new TimelineTask.TimelineTask();\n        tl3.start=moment('2017-03-01 05:15:00');\n        tl3.end=moment('2017-03-01 06:10:00');\n        tl3.taskGroup=\"ChangeOver\";\n        tl3.taskName=\"Start\";\n        this.timelineTasks.push(tl3);\n\n        var tl4 = new TimelineTask.TimelineTask();\n        tl4.start=moment('2017-03-01 06:10:00');\n        tl4.end=moment('2017-03-01 06:45:00');\n        tl4.taskGroup=\"ChangeOver\";\n        tl4.taskName=\"Cleaning\";\n        this.timelineTasks.push(tl4);\n\n        var tl5 = new TimelineTask.TimelineTask();\n        tl5.start=moment('2017-03-01 06:45:00');\n        tl5.end=moment('2017-03-01 07:05:00');\n        tl5.taskGroup=\"ChangeOver\";\n        tl5.taskName=\"Ending\";\n        this.timelineTasks.push(tl5);\n\n        var tl6 = new TimelineTask.TimelineTask();\n        tl6.start=moment('2017-03-01 07:05:00');\n        tl6.end=moment('2017-03-01 12:15:00');\n        tl6.taskGroup=\"Production\";\n        tl6.taskName=\"Running Printing\";\n        this.timelineTasks.push(tl6);\n    }\n\n\n    attached() {\n      \n    }\n\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import 'bootstrap';\nimport {Aurelia} from 'aurelia-framework'\nimport environment from './environment';\n\n//Configure Bluebird Promises.\n(<any>Promise).config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia: Aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  //config.globalResources([]);\n}\n","import { bindable, autoinject } from 'aurelia-framework';\r\nimport * as moment from \"moment\";\r\nimport * as d3 from 'd3'\r\nimport TimelineTask = require(\"./timelineTask\");\r\n\r\n@autoinject\r\n\r\nexport class TimelineComponent {\r\n    @bindable timelineTasks: Array<TimelineTask.TimelineTask>;\r\n    @bindable timelineId: string;\r\n    @bindable row: number;\r\n\r\n    public timelineWidth : number;\r\n    public startDate: moment.Moment;\r\n    public endDate: moment.Moment;\r\n    \r\n    constructor() {\r\n\r\n        this.timelineWidth=500;\r\n        this.startDate=moment('2017-03-01 00:00:00');\r\n        this.endDate=moment('2017-03-02 00:00:00');\r\n    }\r\n\r\n\r\n    created(view) {\r\n\r\n    }\r\n\r\n    bind(bindingContext, overrideContext) {\r\n\r\n    }\r\n\r\n    unbind() {\r\n\r\n    }\r\n\r\n    attached() {\r\n\r\n\r\n        this.createD3();\r\n        \r\n    }\r\n\r\n    public createD3() {\r\n        var data = [];\r\n\r\n        for(let tlt of this.timelineTasks) {\r\n\r\n            var width = +this.endDate.format('X') - +this.startDate.format('X');\r\n            var positionStart = 1-(+this.endDate.format('X') - +tlt.start.format('X'))/width;;\r\n            var positionEnd = 1-(+this.endDate.format('X') - +tlt.end.format('X'))/width;;\r\n            \r\n\r\n            data.push({\r\n                xPos: this.timelineWidth*positionStart,\r\n                yPos: 1,\r\n                stopcode: 1,\r\n                stopcodeDescr: tlt.taskName,\r\n                duration: this.timelineWidth*(positionEnd-positionStart),\r\n            });\r\n        }\r\n\r\n     \r\n\r\n        const g = d3.select('#'+this.timelineId)\r\n            .selectAll(\"g\")\r\n            .data(data)\r\n            .enter()\r\n            .append('g')\r\n        g.append(\"rect\")\r\n            .attr('y', this.row*40)\r\n            .attr('x', (d) => d.xPos)\r\n            .attr('width', (d) => d.duration)\r\n            .attr('height', 20)\r\n            .attr('style', 'fill:rgb(125,0,255);stroke-width:0;stroke:rgb(0,0,0)')\r\n    }\r\n\r\n    detached() {\r\n\r\n    }\r\n}\r\n","import * as moment from \"moment\";\r\n\r\nexport class TimelineTask {\r\n\r\n    start: moment.Moment;\r\n    end: moment.Moment;\r\n    content: string;\r\n    status: string;\r\n    category: string;\r\n    taskGroup: string;\r\n    taskName: string;\r\n    \r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n   \r\n\r\n\r\n}"],"sourceRoot":".."}